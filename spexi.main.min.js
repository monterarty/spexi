const learnMoreCopy=document.querySelector(".is--copy-more"),copySliderDots=document.querySelector(".w-slider-nav"),learnMoreBackTextEl=document.querySelector(".product__cards-lm-back-text"),learnMoreTextEl=document.querySelector(".product__cards-lm-text");var learnMoreCopyWidth=learnMoreCopy.clientWidth,remToPixDelta=parseFloat(window.getComputedStyle(document.documentElement,null).getPropertyValue("font-size"));const distributeElements=()=>{let e=document.querySelectorAll(".products__cards-copy-slide"),r=document.querySelectorAll(".product__cards-copy-mask p");r.forEach(r=>{e[0].appendChild(r)}),e.forEach((e,r)=>{r>0&&e.remove()})},redistributionSlides=()=>{let e=document.querySelector(".product__cards-copy-mask"),r=document.querySelector(".products__cards-copy-slide"),t=document.querySelectorAll(".products__cards-copy-slide p"),l=e.clientHeight,o=r,i=0;t.forEach(e=>{let t=e.clientHeight;i+t>l&&((o=document.createElement("div")).classList.add("products__cards-copy-slide","w-slide"),r.parentNode.appendChild(o),i=0),o.appendChild(e),i+=t}),copySliderDots.style.left=`${learnMoreCopy.clientWidth/remToPixDelta}rem`},updateLmButton=()=>{let e=copySliderDots.children[copySliderDots.children.length-2];e.classList.contains("w-active")?(learnMoreCopy.classList.add("is--last"),learnMoreCopy.style.width=`${(learnMoreBackTextEl.clientWidth-learnMoreTextEl.clientWidth+learnMoreCopy.clientWidth)/remToPixDelta}rem`,copySliderDots.style.left=`${(learnMoreBackTextEl.clientWidth-learnMoreTextEl.clientWidth+learnMoreCopy.clientWidth)/remToPixDelta}rem`):(learnMoreCopy.classList.remove("is--last"),learnMoreCopy.style.width=`${learnMoreCopyWidth/remToPixDelta}rem`,copySliderDots.style.left=`${learnMoreCopyWidth/remToPixDelta}rem`)},moveSliderOnMobile=()=>{let e=document.querySelector(".product__cards-slider"),r=document.querySelector(".products__section .container"),t=document.querySelector(".product__cards-wrapper");window.innerWidth<768&&e.parentNode!=r?r.insertBefore(e,r.firstChild):window.innerWidth>767&&e.parentNode==r&&t.insertBefore(e,t.firstChild)};window.addEventListener("resize",()=>{moveSliderOnMobile(),remToPixDelta=parseFloat(window.getComputedStyle(document.documentElement,null).getPropertyValue("font-size")),distributeElements(),redistributionSlides(),Webflow.require("slider").destroy(),Webflow.require("slider").ready(),Webflow.require("slider").redraw(),updateLmButton()}),window.addEventListener("load",()=>{moveSliderOnMobile(),redistributionSlides(),Webflow.require("slider").destroy(),Webflow.require("slider").ready(),Webflow.require("slider").redraw()}),learnMoreCopy.addEventListener("click",()=>{let e=copySliderDots.children[copySliderDots.children.length-2];e.classList.contains("w-active")?(learnMoreCopy.classList.add("is--last"),learnMoreCopy.style.width=`${(learnMoreBackTextEl.clientWidth-learnMoreTextEl.clientWidth+learnMoreCopy.clientWidth)/remToPixDelta}rem`,copySliderDots.style.left=`${(learnMoreBackTextEl.clientWidth-learnMoreTextEl.clientWidth+learnMoreCopy.clientWidth)/remToPixDelta}rem`):(learnMoreCopy.classList.remove("is--last"),learnMoreCopy.style.width=`${learnMoreCopyWidth/remToPixDelta}rem`,copySliderDots.style.left=`${learnMoreCopyWidth/remToPixDelta}rem`)}),gsap.registerPlugin(ScrollTrigger,ScrollToPlugin);const cardsTimeline=gsap.timeline();cardsTimeline.fromTo(".product__card.spexigon",{className:"product__card spexigon is--active",x:0,y:0,scale:1.01,rotation:.01,opacity:1,zIndex:10,ease:"none"},{className:"product__card spexigon",x:getPixelTranslate("x"),y:getPixelTranslate("y"),zIndex:9,scale:1,rotation:0,opacity:.33,ease:"none"}).fromTo(".product__card.spexigeo",{className:"product__card spexigeo",x:getPixelTranslate("x"),y:getPixelTranslate("y"),opacity:.33,rotation:0,zIndex:9,scale:1,ease:"none"},{className:"product__card spexigeo is--active",x:0,y:0,rotation:.01,zIndex:10,scale:1.01,opacity:1,ease:"none"},"<");const cardsScrollTrigger=ScrollTrigger.create({animation:cardsTimeline,trigger:".product__track",start:"center bottom",snap:{snapTo:1,duration:{min:.25,max:.75}},end:"center top",scrub:.5,ease:"power2.in"});function getPixelTranslate(e){var r,t;let l=window.innerWidth<468;switch(e){case"x":t=l?4.3:8.9;break;case"y":t=l?1.7:5.2}return t*(r=window.innerWidth>767?.694:window.innerWidth>467?1.304:2.667)*window.innerWidth/100}gsap.utils.toArray(".product__card").forEach(function(e,r){e.addEventListener("click",function(r){var t=0;t=e.classList.contains("spexigon")?cardsScrollTrigger.start:cardsScrollTrigger.end,gsap.to(window,{duration:1,scrollTo:t})})});
