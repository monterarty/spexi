var smYoutubePlayer,Webflow=Webflow||[];Webflow.push(function(){var e,t,o,n,i=new MobileDetect(window.navigator.userAgent).os();(null===i||"AndroidOS"==i)&&"macOS"==(i=(e=window.navigator.userAgent,t=window.navigator.userAgentData?window.navigator.userAgentData:window.navigator.platform||window.navigator.platform,o=null,-1!==["Macintosh","MacIntel","MacPPC","Mac68K","macOS"].indexOf(t)?o="macOS":-1!==["iPhone","iPad","iPod"].indexOf(t)?o="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?o="Windows":/Huawei/.test(e)?o="Huawei":/Android/.test(e)?o="AndroidOS":/Linux/.test(t)&&(o="Linux"),o))&&(["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)&&(i="iOS");if(("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.documentElement.classList.add("is--touch-device","is--mobile"),["iOS","AndroidOS","Huawei"].indexOf(i)+1)switch(document.documentElement.classList.add("is--touch-device","is--mobile"),i){case"iOS":document.documentElement.classList.add("is--ios");break;case"AndroidOS":case"Huawei":document.documentElement.classList.add("is--android")}let r=gsap.utils.toArray(".hero__section"),s=new Swiper(".swiper",{speed:1e3,effect:"fade",autoplay:{delay:4e3}});s.on("slideChange",function(e,t){r[0].setAttribute("data-hgs",e.activeIndex+1)}),ScrollTrigger.create({trigger:r,start:"top 80px",end:"bottom 80px",onEnter:function(){s.autoplay.start()},onEnterBack:function(){s.autoplay.start()},onLeave:function(){s.autoplay.stop()}});let a=e=>{let t=document.querySelector("body");e.getAttribute("data-black-nav")?t.classList.contains("is--black-nav")||t.classList.add("is--black-nav"):t.classList.remove("is--black-nav")},l=gsap.utils.toArray(".section");l.forEach(function(e,t){ScrollTrigger.create({trigger:e,start:"top 80px",end:"bottom 80px",onEnter:function(){a(e)},onEnterBack:function(){a(e)}})});let d=gsap.utils.toArray(".features__content-item"),c=document.querySelector(".features__grid-wrapper"),p=(e,t)=>{c.setAttribute("data-fgs",t+1)};d.forEach(function(e,t){let o="",n="";function i(){gsap.to(e,{scrollTrigger:{trigger:e,start:n,end:o,onEnter:function(){e.style.opacity=1,p(e,t)},onLeave:function(){window.innerWidth<468&&t<d.length-1&&(e.style.opacity=0)},onEnterBack:function(){e.style.opacity=1,p(e,t)}}})}ScrollTrigger.matchMedia({"(min-width:468px)":function(){n="top+=10% center",o="bottom+=10% center",i()},"(max-width:467px)":function(){n="top-=30% center",o="bottom-=30% center",i()}})})}),window.onscroll=function(){$(".w-nav-button").hasClass("w--open")&&$(".w-nav-button").trigger("click")};const transitionEndEventName=getTransitionEndEventName();function Dropdowns(e){this.dropdownsDOM=document.querySelectorAll(e.selector),this.openFirst=e.openFirst,this.scrollToOpen=e.scrollToOpen,this.onlyOneOpened=e.onlyOneOpened,this.dropdowns=[],this.prepareDropdowns(),this.attachEventHandlers()}function Dropdown(e){return this.dropdown=e.element,this.opened=e.opened,this.toggle=this.dropdown.querySelector(".cases__dropdown-toggle"),this.dropdownList=this.dropdown.querySelector(".cases__dropdown-list"),this.dropdownContent=this.dropdown.querySelector(".cases__dropdown-content"),this.setInitialPosition(),this}function getTransitionEndEventName(){var e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};let t=document.body.style;for(let o in e)if(void 0!=t[o])return e[o]}Dropdowns.prototype.attachEventHandlers=function(){let e=this;this.dropdowns.forEach(t=>{t.toggle.addEventListener("click",o=>{t.opened?t.closeDropdown():t.openDropdown(),e.onlyOneOpened&&this.dropdowns.forEach(e=>{t!=e&&e.opened&&e.closeDropdown()}),e.scrollToOpen&&t.opened&&setTimeout(function(){t.scrollToOpenDropdown()},550)}),t.dropdownList.addEventListener("transitionend",()=>{ScrollTrigger.refresh()})})},Dropdowns.prototype.prepareDropdowns=function(){this.dropdownsDOM.forEach((e,t)=>{this.openFirst&&0==t?this.dropdowns.push(new Dropdown({element:e,opened:!0})):this.dropdowns.push(new Dropdown({element:e,opened:!1}))})},Dropdown.prototype.setInitialPosition=function(){this.opened?this.openDropdown():this.closeDropdown()},Dropdown.prototype.scrollToOpenDropdown=function(){let e=this.dropdown.getBoundingClientRect().top+window.pageYOffset-20;window.scrollTo({top:e,behavior:"smooth"})},Dropdown.prototype.closeDropdown=function(){this.dropdownList.style.height=0,this.dropdownContent.style.opacity=0,this.opened=0,this.dropdown.classList.remove("is--open")},Dropdown.prototype.openDropdown=function(){this.dropdownList.style.height=this.dropdownContent.offsetHeight+"px",this.dropdownContent.style.opacity=1,this.opened=1,this.dropdown.classList.add("is--open")};const dropdowns=new Dropdowns({selector:".cases__dropdown",openFirst:1,scrollToOpen:1,onlyOneOpened:1}),resizePhoneSelectList=e=>{console.log(e);let t=e.closest(".form__phone-wrap"),o=e.closest(".remodal"),n=o.querySelector(".iti__country-list");n&&(n.style.width=t.clientWidth+"px")},phoneFields=document.querySelectorAll("[data-phone-input]"),phoneIntelObjectArray=[];phoneFields&&phoneFields.forEach(e=>{let t=window.intlTelInput(e,{initialCountry:"auto",preferredCountries:["us","ca"],dropdownContainer:e.closest(".form__phone-wrap"),geoIpLookup(e){fetch("https://ipapi.co/json").then(e=>e.json()).then(t=>e(t.country_code)).catch(()=>e("us"))}});t.promise.then(()=>{console.log("Initialised!")}),phoneIntelObjectArray.push(t),window.onresize=t=>{document.documentElement.classList.contains("remodal-is-locked")&&resizePhoneSelectList(e)}});const nameInputs=document.querySelectorAll("input[data-name-input]"),emailInputs=document.querySelectorAll("input[data-email-input]"),phoneInputs=document.querySelectorAll("input[data-phone-input]");function removeErrorClassOnInput(e){e.addEventListener("input",()=>{e.classList.remove("is--error")}),"radio"==e.type&&e.addEventListener("click",()=>{document.querySelectorAll(`[name=${e.dataset.name}]`).length&&document.querySelectorAll(`[name=${e.dataset.name}]`).forEach(e=>{e.classList.remove("is--error")})}),e.addEventListener("focus",()=>{})}function formValidation(e){let t=!0,o=e.querySelectorAll('input, select, textarea, [type="radio"]');return o.forEach(e=>{let{value:o,dataset:n}=e;e.classList.remove("is--error"),"true"===n.required&&(o||(e.classList.add("is--error"),t=!1),"radio"==e.type&&!document.querySelector(`[name=${e.dataset.name}]:checked`)&&(document.querySelectorAll(`[name=${e.dataset.name}]`).forEach(e=>{e.classList.add("is--error")}),selectToggle&&selectToggle.classList.add("is--error")))}),t}function checkValidationFormOnSubmit(e){let t=document.querySelector(e),o=t.querySelectorAll('input, select, [type="radio"]'),n=e=>!!formValidation(t);o.forEach(e=>{let t=e.getAttribute("data-required");t&&removeErrorClassOnInput(e)}),$(e).submit(n)}nameInputs&&nameInputs.forEach(e=>{e.addEventListener("keypress",function(t){if(console.log(t),8!=t.keyCode&&46!=t.keyCode&&(e.value.length>49||t.key&&t.key.match(/[^а-яА-ЯЁёІіЇїҐґЄєa-zA-ZẞßÄäÜüÖöÀàÈèÉéÌìÍíÎîÒòÓóÙùÚúÂâÊêÔôÛûËëÏïŸÿÇçÑñœ’`'.-\s]/)))return t.preventDefault()}),e.addEventListener("input",function(t){console.log(t),"insertFromPaste"==t.inputType&&(e.value=e.value.replace(/[^а-яА-ЯЁёІіЇїҐґЄєa-zA-ZẞßÄäÜüÖöÀàÈèÉéÌìÍíÎîÒòÓóÙùÚúÂâÊêÔôÛûËëÏïŸÿÇçÑñœ’`'.-\s]/g,"").slice(0,50))})}),phoneInputs&&phoneInputs.forEach(e=>{e.addEventListener("keypress",function(t){if(console.log(t),e.value.length>16||t.key&&t.key.match(/[^0-9\+]/))return t.preventDefault()}),e.addEventListener("input",function(t){console.log(t),"insertFromPaste"==t.inputType&&(e.value=e.value.replace(/[^0-9\+]/g,"").slice(0,50))})}),emailInputs&&emailInputs.forEach(e=>{e.addEventListener("keypress",function(t){if(8!=t.keyCode&&46!=t.keyCode&&(e.value.length>49||t.key&&t.key.match(/[^0-9a-zA-Z-_@.-\s]/)))return t.preventDefault()}),e.addEventListener("input",function(t){console.log(t),"insertFromPaste"==t.inputType&&(e.value=e.value.replace(/[^0-9a-zA-Z-_@.-\s]/g,"").slice(0,50))})});var forms=document.querySelectorAll("form[data-validation]");forms.length&&forms.forEach(e=>{checkValidationFormOnSubmit(`#${e.getAttribute("id")}`),e.setAttribute("novalidate","")});const insideModalTrigger=document.querySelectorAll("[data-modal-form-trigger]");insideModalTrigger&&insideModalTrigger.forEach(e=>{e.addEventListener("click",()=>{let t=e.closest(".sm__scroll-wrapper"),o=t.querySelector(".sm__inside-modal-form-wrapper");e.classList.contains("is--open")?(e.classList.remove("is--open"),o.style.height=0,o.style.opacity=0):(e.classList.add("is--open"),o.style.height=o.scrollHeight+"px",o.style.opacity=1,setTimeout(function(){let e=o.getBoundingClientRect().top+t.scrollTop;t.scrollTo({top:e,behavior:"smooth"})},550))})});const bodyScrollControls={scrollBarWidth:window.innerWidth-document.body.clientWidth,disable(){document.body.style.marginRight=`${this.scrollBarWidth}px`,document.querySelector(".w-nav").style.right=`${this.scrollBarWidth}px`,document.body.style.paddingRight=null,document.body.style.overflowY="hidden"},enable(){document.body.style.marginRight=null,document.body.style.paddingRight=null,document.querySelector(".w-nav").style.right=0,document.body.style.overflowY=null}};var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];function onYouTubeIframeAPIReady(){smYoutubePlayer=new YT.Player("sm__video-player",{height:"390",width:"640",videoId:"u4QvQKWAVBQ",playerVars:{playsinline:1,origin:window.location.host}}),$(".sm__video-text-wrapper").on("click",function(){$(this).parent(".sm__video-wrapper").addClass("is--play"),smYoutubePlayer.playVideo()})}firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),$(document).on("opening",".remodal",function(e){bodyScrollControls.disable();let t=$(".remodal.remodal-is-opening"),o=(t.data("remodal-id"),t.find("iframe")),n=(t.closest(".remodal-is-opened"),t.find(".sm__scroll-wrapper"));lottieTriggers=t.find(".sm__lottie-start-trigger"),phoneField=t.find(".phone-input"),n.animate({scrollTop:0},0),phoneField.length&&resizePhoneSelectList(phoneField.get(0)),o.length&&o.data("src")&&o.attr("src",o.data("src")),lottieTriggers.length&&lottieTriggers.each(function(){$(this).trigger("click")})}),window.onresize=()=>{setTimeout(function(){document.documentElement.classList.contains("remodal-is-locked")&&(document.documentElement.classList.remove("remodal-is-locked"),document.documentElement.classList.add("remodal-is-locked"))},300)},$(document).on("closing",".remodal",function(e){let t=$(".remodal.remodal-is-closing"),o=(t.data("remodal-id"),t.find("iframe")),n=(t.closest(".remodal-is-opened"),t.find(".sm__lottie-start-trigger")),i=t.find("form"),r=t.find(".sm__video-wrapper");r.length&&smYoutubePlayer&&(r.removeClass("is--play"),setTimeout(function(){smYoutubePlayer.stopVideo()},500)),i.length&&(i.find('[type="submit"]').val("Submit"),$(".w-form-fail").hide(),$(".w-form-done").hide(),i[0].reset(),i.show(),i.find(".is--error").each(function(){$(this).removeClass("is--error")})),o.length&&o.data("src")&&o.attr("src",""),$(".sm__video-wrapper").length&&$(".sm__video-wrapper").removeClass("is--play"),n.length&&n.each(function(){$(this).trigger("click")})}),$(document).on("closed",".remodal",function(e){bodyScrollControls.enable()});
